{"ast":null,"code":"import _regeneratorRuntime from\"/Users/morteanualexandru/Desktop/rodio/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/morteanualexandru/Desktop/rodio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/morteanualexandru/Desktop/rodio/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState}from'react';import{useHistory}from'react-router-dom';import{useAuth}from'./AuthContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var emailRef=useRef();var passwordRef=useRef();var _useAuth=useAuth(),login=_useAuth.login;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var history=useHistory();function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;setLoading(true);_context.next=5;return login(emailRef.current.value,passwordRef.current.value);case 5:history.push(\"/admin\");_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.log(\"Failed to log in\");case 11:setLoading(false);case 12:case\"end\":return _context.stop();}},_callee,null,[[1,8]]);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{children:[\"Login\",/*#__PURE__*/_jsx(\"input\",{type:\"email\",ref:emailRef,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",ref:passwordRef,required:true}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,disabled:loading,type:\"submit\",children:\"login\"})]});}export default Login;","map":{"version":3,"names":["React","useRef","useState","useHistory","useAuth","Login","emailRef","passwordRef","login","loading","setLoading","history","handleSubmit","e","preventDefault","current","value","push","console","log"],"sources":["/Users/morteanualexandru/Desktop/rodio/src/pages/Login/Login.js"],"sourcesContent":["import React, { useRef, useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { useAuth } from './AuthContext'\n\nfunction Login() {\n    const emailRef = useRef()\n    const passwordRef = useRef()\n    const { login } = useAuth()\n    const [loading, setLoading] = useState(false)\n    const history = useHistory()\n\n    async function handleSubmit(e) {\n        e.preventDefault()\n\n        try {\n        setLoading(true)\n        await login(emailRef.current.value, passwordRef.current.value)\n        history.push(\"/admin\")\n        } catch {\n        console.log(\"Failed to log in\")\n        }\n\n        setLoading(false)\n    }\n    return (\n        <div>Login\n            <input type=\"email\" ref={emailRef} required></input>\n            <input type=\"password\" ref={passwordRef} required></input>\n            <button onClick={ handleSubmit } disabled={loading} type='submit'>login</button>\n        </div>\n    )\n}\n\nexport default Login"],"mappings":"oYAAA,MAAOA,MAAK,EAAIC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAC/C,OAASC,UAAU,KAAQ,kBAAkB,CAC7C,OAASC,OAAO,KAAQ,eAAe,yFAEvC,QAASC,MAAK,EAAG,CACb,GAAMC,SAAQ,CAAGL,MAAM,EAAE,CACzB,GAAMM,YAAW,CAAGN,MAAM,EAAE,CAC5B,aAAkBG,OAAO,EAAE,CAAnBI,KAAK,UAALA,KAAK,CACb,cAA8BN,QAAQ,CAAC,KAAK,CAAC,wCAAtCO,OAAO,eAAEC,UAAU,eAC1B,GAAMC,QAAO,CAAGR,UAAU,EAAE,SAEbS,aAAY,kJAA3B,iBAA4BC,CAAC,mHACzBA,CAAC,CAACC,cAAc,EAAE,iBAGlBJ,UAAU,CAAC,IAAI,CAAC,uBACVF,MAAK,CAACF,QAAQ,CAACS,OAAO,CAACC,KAAK,CAAET,WAAW,CAACQ,OAAO,CAACC,KAAK,CAAC,QAC9DL,OAAO,CAACM,IAAI,CAAC,QAAQ,CAAC,gFAEtBC,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC,SAG/BT,UAAU,CAAC,KAAK,CAAC,oEACpB,+CACD,mBACI,uBAAK,OACD,4BAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAEJ,QAAS,CAAC,QAAQ,OAAS,cACpD,cAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAEC,WAAY,CAAC,QAAQ,OAAS,cAC1D,eAAQ,OAAO,CAAGK,YAAc,CAAC,QAAQ,CAAEH,OAAQ,CAAC,IAAI,CAAC,QAAQ,UAAC,OAAK,EAAS,GAC9E,CAEd,CAEA,cAAeJ,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}